{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/cartHelper.js","core/helper/coreApiCalls.js","core/Home.js","user/Signup.js","auth/helper/PrivateRoutes.js","user/UserDashboard.js","user/Signin.js","core/helper/paymentHelper.js","core/helper/orderHelper.js","core/PaymentB.js","core/Cart.js","Routes.js","index.js"],"names":["API","signup","user","a","fetch","method","headers","Accept","body","JSON","stringify","response","json","console","error","signin","name","formData","FormData","append","log","isAuthenticated","undefined","window","localStorage","getItem","parse","signout","next","userId","id","removeItem","currentTab","history","path","location","pathname","color","withRouter","className","style","to","onClick","push","Base","title","children","ImageHelper","imgUrl","product","product_image","src","maxHeight","maxWidth","alt","Card","addToCart","removeFromCart","buyNow","reload","setReload","f","useState","redirect","setRedirect","cartTitle","cartDescription","description","cartPrice","price","addToCartIfLoggedIn","item","cart","setItem","addItemToCart","addToTempCartIfLoggedIn","tempCart","addItemToTempCart","getAredirect","showAddToCart","productId","map","i","splice","removeItemFromCart","showRemoveFromCart","showBuyNow","getProducts","res","Home","products","setProducts","setErrors","useEffect","then","data","catch","err","index","Signup","first_name","last_name","email","password","birth_date","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","e","display","onChange","type","placeholder","PrivateRoutes","Component","component","rest","render","props","state","from","UserDashboard","Signin","loading","didRedirect","token","authenticate","performRedirect","getmeToken","processPayment","paymentInfo","createOrder","orderData","PaymentB","clientToken","instance","info","setInfo","getToken","getAmount","amount","forEach","parseFloat","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","code","product_names","trans_id","transaction","payment_stat","contact_address","length","options","authorization","onInstance","Cart","mounted","flag","loadCart","loadAllProducts","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.bafd1249.chunk.js","sourcesContent":["export const API = 'http://localhost:8000/api/'","import { API } from \"../../backend\";\r\n// import { cartEmpty } from \"../../core/helper/cartHelper\";\r\n\r\nexport const signup = async (user) => {\r\n  try {\r\n        const response = await fetch(`${API}user/`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(user),\r\n        });\r\n        return await response.json();\r\n    } catch (err) {\r\n        return console.error(err);\r\n    }\r\n};\r\n\r\nexport const signin = async (user) => {\r\n  const formData = new FormData();\r\n\r\n  for (const name in user) {\r\n    formData.append(name, user[name]);\r\n  }\r\n\r\n  try {\r\n        const response = await fetch(`${API}user/login/`, {\r\n            method: \"POST\",\r\n\r\n            body: formData,\r\n        });\r\n        console.log(\"SUCCESS\", response);\r\n        return await response.json();\r\n    } catch (err) {\r\n        return console.error(err);\r\n    }\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.setItem(\"customToken\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == undefined) {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"customToken\")) {\r\n    return JSON.parse(localStorage.getItem(\"customToken\"));\r\n    //TODO: compare customToken with database json token\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const signout = async (next) => {\r\n  const userId = isAuthenticated() && isAuthenticated().user.id;\r\n\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"customToken\");\r\n    // cartEmpty(() => {});\r\n\r\n    try {\r\n          const response = await fetch(`${API}user/logout/${userId}`, {\r\n              method: \"GET\",\r\n          });\r\n          console.log(\"Signout success\");\r\n          next();\r\n          return await response.json();\r\n      } catch (err) {\r\n          return console.error(err);\r\n      }\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport { signout, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#2ecc72\" };\r\n  } else {\r\n    return { color: \"#FFFFFF\" };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history, path }) => {\r\n  return (\r\n    <div>\r\n      <ul className=\"nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/\")}\r\n            className=\"nav-link\"\r\n            to=\"/\"\r\n          >\r\n            Home\r\n          </Link>\r\n        </li>\r\n        {isAuthenticated() && (\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/cart\")}\r\n              className=\"nav-link\"\r\n              to=\"/cart\"\r\n            >\r\n              Cart\r\n            </Link>\r\n          </li>\r\n        )}\r\n        {isAuthenticated() && (\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/user/dashboard\")}\r\n              className=\"nav-link\"\r\n              to=\"/user/dashboard\"\r\n            >\r\n              dashboard\r\n            </Link>\r\n          </li>\r\n        )}\r\n        {!isAuthenticated() && (\r\n          <Fragment>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                style={currentTab(history, \"/signup\")}\r\n                className=\"nav-link\"\r\n                to=\"/signup\"\r\n              >\r\n                Signup\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                style={currentTab(history, \"/signin\")}\r\n                className=\"nav-link\"\r\n                to=\"/signin\"\r\n              >\r\n                Signin\r\n              </Link>\r\n            </li>\r\n          </Fragment>\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <li className=\"nav-item\">\r\n            <span\r\n              className=\"nav-link text-warning\"\r\n              onClick={() => {\r\n                signout(() => {\r\n                  history.push(\"/\");\r\n                });\r\n              }}\r\n            >Signout\r\n            </span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst Base = ({\r\n  title = \"Utensiline\",\r\n  className = \"container-fluid bg-dark text-white p-4 main_body\",\r\n  children,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar sticky-top navbar-dark bg-custom text-white text-center\">\r\n          <span className=\"navbar-brand font-weight-bold\">{title}</span>\r\n          <Menu />\r\n      </nav>\r\n      <div className={className}>{children}</div>\r\n      <footer className=\"footer bg-custom mt-auto pt-3\">\r\n      <div className=\"container-fluid text-white py-3\">\r\n        <div className=\"row\">\r\n          <div className=\"col-5 text-center\">\r\n            <h4>If you got any queries, reach me out at utensiline@gmail.com</h4>\r\n          </div>\r\n          <div className=\"col-2\"></div>\r\n          <div className=\"col-5\">\r\n              <div className=\"row\"><button className=\"btn btn-warning btn-lg\">Contact Us</button></div>\r\n              <div className=\"row\">\r\n              <span className=\"text-warning font-weight-bold\">\r\n                  An online utensil store by the manufacturers of Jagadhri, India\r\n              </span>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Base;\r\n","import React from 'react'\r\n\r\nconst ImageHelper = ({product}) => {\r\n    const imgUrl = product.product_image;\r\n    return (\r\n        <div className=\"row rounded border border-info\">\r\n            <img\r\n                src={imgUrl} \r\n                style={{maxHeight:\"100%\", maxWidth:\"100%\"}}\r\n                className=\"rounded\"\r\n                alt=\"\"\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageHelper;","import React, { useState } from \"react\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, addItemToTempCart, removeItemFromCart } from \"./helper/cartHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addToCart = true,\r\n  removeFromCart = false,\r\n  buyNow = true,\r\n  reload = undefined,\r\n  setReload = (f) => f,\r\n}) => {\r\n  const [redirect, \r\n    setRedirect\r\n  ] = useState(false);\r\n\r\n  const cartTitle = product ? product.name : \"A photo from pexels\";\r\n  const cartDescription = product ? product.description : \"Default description\";\r\n  const cartPrice = product ? product.price : \"Default\";\r\n\r\n  const addToCartIfLoggedIn = () => {\r\n    if (isAuthenticated) {\r\n      addItemToCart(product);\r\n      console.log(\"Added to cart\");\r\n    } else {\r\n      console.log(\"Login Please!\");\r\n    }\r\n  };\r\n\r\n  const addToTempCartIfLoggedIn = () => {\r\n    if (isAuthenticated) {\r\n      addItemToTempCart(product, () => setRedirect(true));\r\n      console.log(\"Added to cart\");\r\n    } else {\r\n      console.log(\"Login Please!\");\r\n    }\r\n  };\r\n\r\n  const getAredirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = (addToCart) => {\r\n    return (\r\n      addToCart && (\r\n        <button\r\n          onClick={addToCartIfLoggedIn}\r\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveFromCart = (removeFromCart) => {\r\n    return (\r\n      removeFromCart && (\r\n        <button\r\n          onClick={() => {\r\n            removeItemFromCart(product.id);\r\n            setReload(!reload);\r\n\r\n            console.log(product.id, \"Product removed from cart\");\r\n          }}\r\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove from cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showBuyNow = (buyNow) => {\r\n    return (\r\n      buyNow && (\r\n        <button\r\n          onClick={addToTempCartIfLoggedIn}\r\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n        >\r\n          Buy Now\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container card text-white bg-dark border border-info \">\r\n      <div className=\"card-header lead row\">{cartTitle}</div>\r\n      <div className=\"card-body row\">\r\n        <div className=\"container-fluid\">\r\n          {getAredirect(redirect)}\r\n          <ImageHelper product={product} />\r\n          <div className=\"row lead bg-info rounded p-1 font-weight-normal text-wrap mt-2\">\r\n            {cartDescription}\r\n          </div>\r\n          <div className=\"row p-1 btn-info rounded mt-2\">{cartPrice} ₹</div>\r\n          <div className=\"row\">\r\n            {showAddToCart(addToCart)}\r\n          </div>\r\n          <div className=\"row\">\r\n            {showRemoveFromCart(removeFromCart)}\r\n          </div>\r\n          <div className=\"row\">\r\n            {showBuyNow(buyNow)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export const addItemToCart = (item) => {\r\n    let cart = [];\r\n    if (typeof window !== undefined) {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      cart.push({\r\n        ...item,\r\n      });\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }\r\n    return cart;\r\n  };\r\n  \r\n  export const addItemToTempCart = (item, next) => {\r\n    let tempCart = [];\r\n    if (typeof window !== undefined) {  \r\n      tempCart.push(item);\r\n      localStorage.setItem(\"tempCart\", JSON.stringify(tempCart));\r\n      next();\r\n    }\r\n  };\r\n  \r\n  export const loadCart = (flag) => {\r\n    if (typeof window !== undefined) {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        return (flag?(JSON.parse(localStorage.getItem(\"tempCart\"))):(JSON.parse(localStorage.getItem(\"cart\"))));\r\n      }\r\n    }\r\n  };\r\n  \r\n  export const removeItemFromCart = (productId) => {\r\n    let cart = [];\r\n    if (typeof window !== undefined) {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      cart.map((product, i) => {\r\n        if (product.id === productId) {\r\n          cart.splice(i, 1);\r\n        }\r\n      });\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }\r\n    return cart;\r\n  };\r\n  \r\n  export const cartEmpty = (next) => {\r\n    if (typeof window !== undefined) {\r\n      localStorage.removeItem(\"cart\");\r\n      let cart = [];\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      next();\r\n    }\r\n  };","import {API} from '../../backend'\r\n\r\nexport const getProducts = async () => {\r\n    try {\r\n        const res = await fetch(`${API}product`, { method: \"GET\" });\r\n        return await res.json();\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n}","import React, {useEffect, useState} from 'react'\r\nimport Base from './Base';\r\nimport Card from './Card';\r\nimport {getProducts} from './helper/coreApiCalls'\r\n// TODO\r\n// getCategories\r\nexport default function Home() {\r\n    const [products, setProducts] = useState([]);\r\n    const [error, setErrors] = useState(false);\r\n    // loadAllCategories\r\n    const loadAllProducts = ()=>{\r\n        getProducts()\r\n        .then((data) => {\r\n            if (data.error) {\r\n                setErrors(data.error);\r\n                console.error(error);\r\n            }\r\n            else{\r\n                setProducts(data);\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.error(err);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadAllProducts()\r\n    })\r\n\r\n    return (\r\n        <Base>\r\n            <div className=\"row\">\r\n                <h1 className=\"mb-4\">Products</h1>\r\n            </div>\r\n            <div className=\"row\">\r\n                {products.map((product, index)=>{\r\n                    return (\r\n                        <div key={index} className=\"col-4 mb-4 pl-0\">\r\n                            <Card product={product} />\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </Base>\r\n    )\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth/helper\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    birth_date: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n\r\n  const { first_name, last_name, email, password, birth_date, error, success } = values;\r\n\r\n  const handleChange = (name) =>\r\n    (event) => {\r\n      setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ first_name, last_name, email, password, birth_date})\r\n      .then((data) => {\r\n        if (data.email === email) {\r\n          setValues({\r\n            ...values,\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            birth_date: \"\",\r\n            error: \"\",\r\n            success: true,\r\n          });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            error: true,\r\n            success: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.error(e));\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div className=\"alert alert-success\" style={{ display: success ? \"\" : \"none\" }}>\r\n            New account created successfully. Please <Link to=\"/signin\">login now.</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div className=\"alert alert-danger\" style={{ display: error ? \"\" : \"none\" }}>\r\n            Check all fields again\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">First Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                value={first_name}\r\n                onChange={handleChange(\"first_name\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Last Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                value={last_name}\r\n                onChange={handleChange(\"last_name\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={handleChange(\"email\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">password</label>\r\n              <input\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={handleChange(\"password\")}\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">birth date</label>\r\n              <input\r\n                className=\"form-control\"\r\n                placeholder=\"YYYY-MM-DD\"\r\n                type=\"text\"\r\n                // name=\"begin\"\r\n                // min=\"1930-01-01\"\r\n                // max=\"2019-12-31\"\r\n                value={birth_date}\r\n                onChange={handleChange(\"birth_date\")}\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={onSubmit}\r\n              className=\"btn btn-success btn-block\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Sign Up Page\" description=\"A signup for Utensiline user\">\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signUpForm()}\r\n      {/* <p className=\"text-white text-center\">\r\n        // {JSON.stringify(values)}\r\n      </p> */}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoutes = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated()\r\n          ? (\r\n            <Component {...props} />\r\n          )\r\n          : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location },\r\n              }}\r\n            />\r\n          )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoutes;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\n\r\nconst UserDashboard = () => {\r\n  return (\r\n    <Base title=\"User dashboard\">\r\n      <h1>Welcome to user dashboard page</h1>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n  const { email, password, error, success, loading, didRedirect } = values;\r\n\r\n  const handleChange = (name) =>\r\n    (event) => {\r\n      setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        if (data.token) {\r\n          //let sessionToken = data.token;\r\n          authenticate(data, () => {\r\n            console.log(\"TOKKEN ADDED\");\r\n            setValues({\r\n              ...values,\r\n              didRedirect: true,\r\n            });\r\n          });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            loading: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.error(e));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account created successfully. Please <Link\r\n              to=\"/signin\"\r\n            >\r\n              login now.\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            Check all fields again\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                name=\"email\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={handleChange(\"email\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">password</label>\r\n              <input\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={handleChange(\"password\")}\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={onSubmit}\r\n              className=\"btn btn-success btn-block\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome to sign in page\" description=\"A signin page for Utensiline user\">\r\n      {loadingMessage()}\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signInForm()}\r\n      {/* <p className=\"text-center\">\r\n        {JSON.stringify(values)}\r\n      </p> */}\r\n      {performRedirect()}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getmeToken = async (userId, token) => {\r\n  try {\r\n    const response = await fetch(`${API}payment/getToken/${userId}/${token}/`, {\r\n      method: \"GET\"\r\n    });\r\n    return await response.json();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const processPayment = async (userId, token, paymentInfo) => {\r\n  const formData = new FormData();\r\n\r\n  for (const name in paymentInfo) {\r\n    formData.append(name, paymentInfo[name]);\r\n  }\r\n\r\n  const response = await fetch(`${API}payment/processPayment/${userId}/${token}/`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n  return await response.json();\r\n};\r\n","import { API } from \"../../backend\";\r\n\r\nexport const createOrder = async (userId, token, orderData) => {\r\n  const formData = new FormData();\r\n\r\n  for (const name in orderData) {\r\n    formData.append(name, orderData[name]);\r\n  }\r\n\r\n  try {\r\n        const response = await fetch(`${API}order/add/${userId}/${token}/`, {\r\n            method: \"POST\",\r\n            body: formData,\r\n        });\r\n        return await response.json();\r\n    } catch (err) {\r\n        return console.error(err);\r\n    }\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { cartEmpty } from \"./helper/cartHelper\";\r\nimport { getmeToken, processPayment } from \"./helper/paymentHelper\";\r\nimport { createOrder } from \"./helper/orderHelper\";\r\nimport { isAuthenticated, signout } from \"../auth/helper\";\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst PaymentB = ({\r\n  products,\r\n  reload = undefined,\r\n  setReload = (f) => f,\r\n}) => {\r\n  let [info, setInfo] = useState({\r\n    error: null,\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    instance: {},\r\n  });\r\n  \r\n  const userId = isAuthenticated && isAuthenticated().user.id;\r\n  const token = isAuthenticated && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getmeToken(userId, token)\r\n      .then((info) => {\r\n        if (info.error) {\r\n\r\n          setInfo({\r\n            ...info,\r\n            error: info.error,\r\n          });\r\n          signout(() => {\r\n            return <Redirect to=\"/\" />;\r\n          });\r\n        } else {\r\n          const clientToken = info.clientToken;\r\n          setInfo({ clientToken });\r\n        }\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const getAmount = () => {\r\n    let amount = 0;\r\n    products.forEach(product => {\r\n        amount = amount + parseFloat(product.price);\r\n    })\r\n    return amount;\r\n  };\r\n\r\n  const onPurchase = () => {\r\n    setInfo({ loading: true });\r\n    let nonce;\r\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\r\n      nonce = data.nonce;\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount(),\r\n      };\r\n      processPayment(userId, token, paymentData)\r\n        .then((response) => {\r\n          if (response.error) {\r\n            if (response.code === \"1\") {\r\n              console.log(\"PAYMENT Failed!\");\r\n              signout(() => {\r\n                return <Redirect to=\"/\" />;\r\n              });\r\n            }\r\n          } else {\r\n            setInfo({ ...info, success: response.success, loading: false });\r\n            console.log(\"PAYMENT SUCCESS\");\r\n\r\n            let product_names = \"\";\r\n            products.forEach(function (item) {\r\n              product_names += item.name + \", \";\r\n            });\r\n\r\n            const orderData = {\r\n              products: product_names,\r\n              trans_id: response.transaction.id,\r\n              amount: response.transaction.amount,\r\n              payment_stat:0,\r\n              contact_address:\"D44 Jai City Jagadhri 135003\"\r\n            };\r\n            createOrder(userId, token, orderData)\r\n              .then((response) => {\r\n                console.log(response)\r\n                if (response.error) {\r\n                  if (response.code === \"1\") {\r\n                    console.log(\"Order Failed!\");\r\n                    signout(() => {\r\n                      return <Redirect to=\"/\" />;\r\n                    });\r\n                  }\r\n                } else {\r\n                  if (response.success === true) {\r\n                    console.log(\"ORDER PLACED!!\");\r\n                  }\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                setInfo({ loading: false, success: false });\r\n                console.log(\"Order FAILED\", error);\r\n              });\r\n            cartEmpty(() => {\r\n              console.log(\"Did we got a crash?\");\r\n            });\r\n\r\n            setReload(!reload);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setInfo({ loading: false, success: false });\r\n          console.log(\"PAYMENT FAILED\", error);\r\n        });\r\n    });\r\n  };\r\n\r\n  const showbtnDropIn = () => {\r\n    return (\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0\r\n          ? (\r\n            <div>\r\n              <DropIn\r\n                options={{ authorization: info.clientToken }}\r\n                onInstance={(instance) => (info.instance = instance)}\r\n              />\r\n              <button\r\n                onClick={onPurchase}\r\n                className=\"btn btn-block btn-success\"\r\n              >\r\n                Buy Now\r\n              </button>\r\n            </div>\r\n          )\r\n          : (\r\n            <h3>Please login first or add something in cart</h3>\r\n          )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your bill is {getAmount()}₹</h3>\r\n      {showbtnDropIn()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentB;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"./Base\";\r\n\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./helper/cartHelper\";\r\nimport PaymentB from \"./PaymentB\";\r\n\r\nconst Cart = () => {\r\n  const [reload, setReload] = useState(true);\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true\r\n    if (mounted) {\r\n      setProducts(loadCart(false));\r\n    }\r\n    return function cleanup() {\r\n        mounted = false\r\n    }\r\n  }, [reload]);\r\n\r\n  const loadAllProducts = (products) => {\r\n    return (\r\n      <div>\r\n        {products.map((product, index) => (\r\n          <Card\r\n            key={index}\r\n            product={product}\r\n            removeFromCart={true}\r\n            addToCart={false}\r\n            buyNow={false}\r\n            reload={reload}\r\n            setReload={setReload}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // const loadCheckout = () => {\r\n  //   return (\r\n  //     <div>\r\n  //       <h1>Checkout</h1>\r\n  //     </div>\r\n  //   );\r\n  // };\r\n\r\n  return (\r\n    <Base title=\"Cart page\" description=\"Welcome to checkout\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-6\">\r\n          {products.length > 0 ? (loadAllProducts(products)) : (<h4>No products</h4>)}\r\n        </div>\r\n        <div className=\"col-6\">\r\n          {\r\n            products.length > 0\r\n            ?(<PaymentB products={products} setReload={setReload} />)\r\n            :(<h3>Please login or add something in cart</h3>)\r\n          }\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Cart;","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\n\r\nimport Home from \"./core/Home\";\r\nimport Signup from \"./user/Signup\";\r\nimport PrivateRoutes from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashboard from \"./user/UserDashboard\";\r\nimport Signin from \"./user/Signin\";\r\nimport Cart from \"./core/Cart\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/signin\" exact component={Signin} />\r\n        <PrivateRoutes path=\"/cart\" exact component={Cart} />\r\n        <PrivateRoutes path=\"/user/dashboard\" exact component={UserDashboard} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport Routes from './Routes';\n\nReactDOM.render(<Routes/>, document.getElementById(\"root\"));"],"sourceRoot":""}