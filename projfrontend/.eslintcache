[{"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\index.js":"1","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\routes.js":"2","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\home.js":"3","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\coreApiCalls.js":"4","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\backend.js":"5","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\Routes.js":"6","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Home.js":"7","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Base.js":"8","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Card.js":"9","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\ImageHelper.js":"10","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\cartHelper.js":"11","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Cart.js":"12","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\user\\Signup.js":"13","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\user\\UserDashboard.js":"14","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\user\\Signin.js":"15","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\auth\\helper\\PrivateRoutes.js":"16","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\auth\\helper\\index.js":"17","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Menu.js":"18","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\PaymentB.js":"19","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\orderHelper.js":"20","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\paymentHelper.js":"21"},{"size":176,"mtime":1611196669231,"results":"22","hashOfConfig":"23"},{"size":338,"mtime":1610790976199,"results":"24","hashOfConfig":"25"},{"size":1084,"mtime":1610790840591,"results":"26","hashOfConfig":"25"},{"size":252,"mtime":1610878865182,"results":"27","hashOfConfig":"23"},{"size":50,"mtime":1610791073835,"results":"28","hashOfConfig":"23"},{"size":809,"mtime":1611198338084,"results":"29","hashOfConfig":"23"},{"size":1280,"mtime":1611197325693,"results":"30","hashOfConfig":"23"},{"size":1274,"mtime":1611226650520,"results":"31","hashOfConfig":"23"},{"size":3150,"mtime":1611230718372,"results":"32","hashOfConfig":"23"},{"size":424,"mtime":1610880800695,"results":"33","hashOfConfig":"23"},{"size":1535,"mtime":1611201757688,"results":"34","hashOfConfig":"23"},{"size":1606,"mtime":1611219983724,"results":"35","hashOfConfig":"23"},{"size":4492,"mtime":1610952407231,"results":"36","hashOfConfig":"23"},{"size":245,"mtime":1610878938047,"results":"37","hashOfConfig":"23"},{"size":3863,"mtime":1610949750676,"results":"38","hashOfConfig":"23"},{"size":599,"mtime":1610878318100,"results":"39","hashOfConfig":"23"},{"size":2152,"mtime":1611200971656,"results":"40","hashOfConfig":"23"},{"size":2305,"mtime":1611199398366,"results":"41","hashOfConfig":"23"},{"size":4498,"mtime":1611227205593,"results":"42","hashOfConfig":"23"},{"size":497,"mtime":1611230560332,"results":"43","hashOfConfig":"23"},{"size":682,"mtime":1611231549846,"results":"44","hashOfConfig":"23"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},"xdtmms",{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1f4cvmw",{"filePath":"50","messages":"51","errorCount":3,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"47"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"47"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"47"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\index.js",[],["91","92"],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\routes.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\home.js",["93","94","95","96"],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\coreApiCalls.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\backend.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\Routes.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Home.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Base.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Card.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\ImageHelper.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\cartHelper.js",["97"],"export const addItemToCart = (item) => {\r\n    let cart = [];\r\n    if (typeof window !== undefined) {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      cart.push({\r\n        ...item,\r\n      });\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }\r\n    return cart;\r\n  };\r\n  \r\n  export const addItemToTempCart = (item, next) => {\r\n    let tempCart = [];\r\n    if (typeof window !== undefined) {  \r\n      tempCart.push(item);\r\n      localStorage.setItem(\"tempCart\", JSON.stringify(tempCart));\r\n      next();\r\n    }\r\n  };\r\n  \r\n  export const loadCart = (flag) => {\r\n    if (typeof window !== undefined) {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        return (flag?(JSON.parse(localStorage.getItem(\"tempCart\"))):(JSON.parse(localStorage.getItem(\"cart\"))));\r\n      }\r\n    }\r\n  };\r\n  \r\n  export const removeItemFromCart = (productId) => {\r\n    let cart = [];\r\n    if (typeof window !== undefined) {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n      cart.map((product, i) => {\r\n        if (product.id === productId) {\r\n          cart.splice(i, 1);\r\n        }\r\n      });\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }\r\n    return cart;\r\n  };\r\n  \r\n  export const cartEmpty = (next) => {\r\n    if (typeof window !== undefined) {\r\n      localStorage.removeItem(\"cart\");\r\n      let cart = [];\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      next();\r\n    }\r\n  };","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Cart.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\user\\Signup.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\user\\UserDashboard.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\user\\Signin.js",["98"],"import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n  const { email, password, error, success, loading, didRedirect } = values;\r\n\r\n  const handleChange = (name) =>\r\n    (event) => {\r\n      setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        console.log(\"DATA\", data);\r\n        if (data.token) {\r\n          //let sessionToken = data.token;\r\n          authenticate(data, () => {\r\n            console.log(\"TOKKEN ADDED\");\r\n            setValues({\r\n              ...values,\r\n              didRedirect: true,\r\n            });\r\n          });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            loading: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.error(e));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account created successfully. Please <Link\r\n              to=\"/signin\"\r\n            >\r\n              login now.\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            Check all fields again\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                name=\"email\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={handleChange(\"email\")}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">password</label>\r\n              <input\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={handleChange(\"password\")}\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={onSubmit}\r\n              className=\"btn btn-success btn-block\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome to sign in page\" description=\"A signin page for Utensiline user\">\r\n      {loadingMessage()}\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signInForm()}\r\n      {/* <p className=\"text-center\">\r\n        {JSON.stringify(values)}\r\n      </p> */}\r\n      {performRedirect()}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\auth\\helper\\PrivateRoutes.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\auth\\helper\\index.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\Menu.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\PaymentB.js",["99","100"],"import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { cartEmpty } from \"./helper/cartHelper\";\r\nimport { getmeToken, processPayment } from \"./helper/paymentHelper\";\r\nimport { createOrder } from \"./helper/orderHelper\";\r\nimport { isAuthenticated, signout } from \"../auth/helper\";\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst PaymentB = ({\r\n  products,\r\n  reload = undefined,\r\n  setReload = (f) => f,\r\n}) => {\r\n  let [info, setInfo] = useState({\r\n    error: null,\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    instance: {},\r\n  });\r\n  \r\n  const userId = isAuthenticated && isAuthenticated().user.id;\r\n  const token = isAuthenticated && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getmeToken(userId, token)\r\n      .then((info) => {\r\n        if (info.error) {\r\n\r\n          setInfo({\r\n            ...info,\r\n            error: info.error,\r\n          });\r\n          signout(() => {\r\n            return <Redirect to=\"/\" />;\r\n          });\r\n        } else {\r\n          const clientToken = info.clientToken;\r\n          setInfo({ clientToken });\r\n        }\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const getAmount = () => {\r\n    let amount = 0;\r\n    products.forEach(product => {\r\n        amount = amount + parseFloat(product.price);\r\n    })\r\n    return amount;\r\n  };\r\n\r\n  const onPurchase = () => {\r\n    setInfo({ loading: true });\r\n    let nonce;\r\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\r\n      nonce = data.nonce;\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount(),\r\n      };\r\n      processPayment(userId, token, paymentData)\r\n        .then((response) => {\r\n          if (response.error) {\r\n            if (response.code === \"1\") {\r\n              console.log(\"PAYMENT Failed!\");\r\n              signout(() => {\r\n                return <Redirect to=\"/\" />;\r\n              });\r\n            }\r\n          } else {\r\n            setInfo({ ...info, success: response.success, loading: false });\r\n            console.log(\"PAYMENT SUCCESS\");\r\n\r\n            let product_names = \"\";\r\n            products.forEach(function (item) {\r\n              product_names += item.name + \", \";\r\n            });\r\n\r\n            const orderData = {\r\n              products: product_names,\r\n              trans_id: response.transaction.id,\r\n              amount: response.transaction.amount,\r\n              payment_stat:0,\r\n              contact_address:\"D44 Jai City Jagadhri 135003\"\r\n            };\r\n            createOrder(userId, token, orderData)\r\n              .then((response) => {\r\n                console.log(response)\r\n                if (response.error) {\r\n                  if (response.code === \"1\") {\r\n                    console.log(\"Order Failed!\");\r\n                    signout(() => {\r\n                      return <Redirect to=\"/\" />;\r\n                    });\r\n                  }\r\n                } else {\r\n                  if (response.success === true) {\r\n                    console.log(\"ORDER PLACED!!\");\r\n                  }\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                setInfo({ loading: false, success: false });\r\n                console.log(\"Order FAILED\", error);\r\n              });\r\n            cartEmpty(() => {\r\n              console.log(\"Did we got a crash?\");\r\n            });\r\n\r\n            setReload(!reload);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setInfo({ loading: false, success: false });\r\n          console.log(\"PAYMENT FAILED\", error);\r\n        });\r\n    });\r\n  };\r\n\r\n  const showbtnDropIn = () => {\r\n    return (\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0\r\n          ? (\r\n            <div>\r\n              <DropIn\r\n                options={{ authorization: info.clientToken }}\r\n                onInstance={(instance) => (info.instance = instance)}\r\n              />\r\n              <button\r\n                onClick={onPurchase}\r\n                className=\"btn btn-block btn-success\"\r\n              >\r\n                Buy Now\r\n              </button>\r\n            </div>\r\n          )\r\n          : (\r\n            <h3>Please login first or add something in cart</h3>\r\n          )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your bill is {getAmount()}₹</h3>\r\n      {showbtnDropIn()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentB;\r\n","C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\orderHelper.js",[],"C:\\Users\\MeghamGarg\\Desktop\\lcodev\\projfrontend\\src\\core\\helper\\paymentHelper.js",[],{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","severity":2,"message":"106","line":5,"column":37,"nodeType":"107","endLine":5,"endColumn":45},{"ruleId":"105","severity":2,"message":"106","line":6,"column":32,"nodeType":"107","endLine":6,"endColumn":40},{"ruleId":"105","severity":2,"message":"108","line":24,"column":5,"nodeType":"107","endLine":24,"endColumn":14},{"ruleId":"109","severity":1,"message":"110","line":26,"column":8,"nodeType":"111","endLine":26,"endColumn":10,"suggestions":"112"},{"ruleId":"113","severity":1,"message":"114","line":38,"column":29,"nodeType":"115","messageId":"116","endLine":38,"endColumn":31},{"ruleId":"117","severity":1,"message":"118","line":16,"column":53,"nodeType":"107","messageId":"119","endLine":16,"endColumn":64},{"ruleId":"109","severity":1,"message":"120","line":46,"column":6,"nodeType":"111","endLine":46,"endColumn":8,"suggestions":"121"},{"ruleId":"117","severity":1,"message":"122","line":59,"column":9,"nodeType":"107","messageId":"119","endLine":59,"endColumn":17},"no-native-reassign",["123"],"no-negated-in-lhs",["124"],"react-hooks/rules-of-hooks","React Hook \"useState\" is called in function \"home\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter.","Identifier","React Hook \"useEffect\" is called in function \"home\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadAllProducts'. Either include it or remove the dependency array.","ArrayExpression",["125"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-unused-vars","'didRedirect' is assigned a value but never used.","unusedVar","React Hook useEffect has missing dependencies: 'token' and 'userId'. Either include them or remove the dependency array.",["126"],"'getNonce' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"127","fix":"128"},{"desc":"129","fix":"130"},"Update the dependencies array to be: [loadAllProducts]",{"range":"131","text":"132"},"Update the dependencies array to be: [token, userId]",{"range":"133","text":"134"},[669,671],"[loadAllProducts]",[1242,1244],"[token, userId]"]